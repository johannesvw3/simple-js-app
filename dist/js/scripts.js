let pokemonRepository=function(){let e=document.querySelector('.list-group'),t=document.querySelector('.modal-content'),n=document.createElement('h1');n.classList.add('Pokename');let o=document.createElement('p');o.classList.add('Pokeheight');let i=document.createElement('div');i.classList.add('img-container');let a=document.createElement('img');a.classList.add('PokeImage');let l=document.createElement('p');l.classList.add('Poketype');let r=[],c='https://pokeapi.co/api/v2/pokemon/?limit=150';function s(e){'object'==typeof e&&'name'in e?r.push(e):console.log('wrong format')}function d(e){p(e).then(function(){n.innerHTML=e.name.toUpperCase(),o.innerHTML='Height: '+e.height,l.innerHTML='Type: '+e.types.toUpperCase(),a.src=e.imageUrl})}function p(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types[0].type.name}).catch(function(e){console.error(e)})}return t.appendChild(n),t.appendChild(o),t.appendChild(l),t.appendChild(i),i.appendChild(a),{add:s,getAll:function(){return r},addListItem:function(t){let n=document.createElement('li');n.classList.add('group-list-item');let o=document.createElement('button');o.innerHTML=t.name.toUpperCase(),o.type='button',o.classList.add('btn'),o.classList.add('btn-primary'),o.dataset.toggle='modal',o.dataset.target='#pokemon-modal',e.appendChild(n),n.appendChild(o),o.addEventListener('click',function(){d(t)})},showDetails:d,loadList:function(){return fetch(c).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){s({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDeatails:p,search:function(){let e=document.querySelector('#search-bar');e.addEventListener('input',function(){let t=document.querySelectorAll('.group-list-item'),n=e.value.toLowerCase();t.forEach(function(e){e.innerText.toLowerCase().indexOf(n)>-1?e.style.display='':e.style.display='none'})})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e),pokemonRepository.search()})});